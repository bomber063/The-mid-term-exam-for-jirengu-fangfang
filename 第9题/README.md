# 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？
* 页面输入URL（网址）后发生的大概过程如下：  
* 查询dns是否有缓存->DNS通过解析查询到域名->TCP/IP链接(三次握手)->发送HTTP请求->服务器处理请求并返回HTTP报文->浏览器解析渲染页面->连接结束，断开连接（四次挥手）  
* 总体来说分为以下几个过程:  
## 1. 查询dns是否有缓存
* 如果有缓存就直接显示出来，不需要执行下面的过程。
## 2. DNS通过解析查询到域名
* 域名系统（英文：Domain Name System，缩写：DNS）
* 如果没有缓存，那么一个URL(网址)到IP地址的转换，这个过程就是DNS解析，
* 网址大概的解析过程为: . -> .com -> google.com. -> www.google.com——也就是从右往左，从根域名到顶级然后依次，找到后会返回相应的IP地址。然后存在缓存里面。
## 3. TCP/IP链接(三次握手)
* TCP（Transmission Control Protocol 传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。
* 知道了服务器的 IP 地址，下面便开始与服务器建立连接了。
* 通俗地讲，通信连接的建立需要经历以下三个过程：
1. 客户端向服务器发送一个建立连接的请求（您好，我想认识您）；
2. 服务器接到请求后发送同意连接的信号（好的，很高兴认识您）；
3. 客户端接到同意连接的信号后，再次向服务器发送了确认信号（我也很高兴认识您），自此，客户端与服务器两者建立了连接。
## 4. 发送HTTP请求
* 超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。
* 建立TCP连接之后客户端向服务器发送HTTP请求，包括请求行、请求头、空行、请求体。
## 5. 服务器处理请求并返回HTTP报文
* 服务器响应包括状态码，响应头，响应正文。
## 6. 浏览器解析渲染页面
* 浏览器是一个边解析边渲染的过程，先解析HTML文件构建DOM树，然后CSS文件构建渲染树，构建完成渲染树之后，浏览器就开始reflow(回流,跟大小尺寸有关)和repaint(重绘，跟颜色字体有关)到屏幕上面。JavaScript的解析是由浏览器中的JavaScript解析引擎完成的，完成后就可以根据DOMAPI操作DOM。
## 7. 连接结束，断开连接
* 每次断开连接前，客户端和服务端都要先进行四次对话才正式断开连接，四次对话的内容大概是这样的：
1. 客户端向服务器发送一个断开连接的请求。（不早了，我该走了）
2. 服务器接到请求后发送确认收到请求的信号。（知道了）
3. 服务器向客户端发送断开通知（我也该走了）。
4. 客户端接到断开通知后断开连接并反馈一个确认信号（嗯，好的），服务器收到确认信号后断开连接。

## 其他
一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？学习的链接记录
* [链接1](https://blog.csdn.net/weixin_34293141/article/details/88515135)
* [链接2](https://blog.csdn.net/wang_liuyong/article/details/81540175)
* [链接3](https://www.cnblogs.com/qiang07/p/9304771.html)
* [链接4](https://segmentfault.com/a/1190000006879700)
* [链接5](https://www.cnblogs.com/wangshengli520/p/9570750.html)

